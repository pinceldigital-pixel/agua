<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AguApp Minimal</title>
  <link rel="manifest" href="manifest.webmanifest" />
  <meta name="theme-color" content="#0b3ea6" />
  <style>
    :root{--bg1:#0b3ea6;--bg2:#1e74ff;--bg3:#4da3ff;--ring:rgba(255,255,255,.18);--celeste:#8fd3ff;}
    *{box-sizing:border-box}
    body{margin:0;min-height:100dvh;color:#fff;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;
      background:radial-gradient(1200px 600px at 120% -20%, rgba(255,255,255,.10), transparent 60%),
                 radial-gradient(900px 500px at -10% 120%, rgba(255,255,255,.10), transparent 60%),
                 linear-gradient(180deg, var(--bg1), var(--bg2) 45%, var(--bg3));}
    header{display:flex;justify-content:space-between;align-items:center;padding:18px 20px;font-weight:800;font-size:24px}
    .icon{width:22px;height:22px;vertical-align:-4px}
    .icon-btn{background:transparent;border:0;color:#fff;font-size:0;cursor:pointer;opacity:.9}
    main{max-width:520px;margin:0 auto;padding:10px 16px 80px}
    .card{background:rgba(255,255,255,0.06);border:1px solid var(--ring);border-radius:20px;backdrop-filter:blur(8px)}
    .center{display:grid;place-items:center;position:relative;padding:16px}
    /* Donut envuelto para centrar el % dentro de la circunferencia */
    .donut-wrap{position:relative;width:260px;height:260px;display:grid;place-items:center;margin:8px 0}
    .donut{width:260px;height:260px}
    .track{fill:none;stroke:rgba(255,255,255,.25);stroke-width:16}
    .arc{fill:none;stroke:var(--celeste);stroke-width:16;stroke-linecap:round;transform:rotate(-90deg);transform-origin:50% 50%;
         stroke-dasharray:651.45;stroke-dashoffset:651.45;transition:stroke-dashoffset .6s cubic-bezier(.2,.8,.2,1)}
    .centered{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:grid;place-items:center;text-align:center;pointer-events:none}
    .pct{font-size:48px;font-weight:900;text-shadow:0 0 8px rgba(255,255,255,.5);line-height:1}
    .sub{margin-top:2px;font-size:12px;letter-spacing:.06em;text-transform:uppercase;color:#e2e8f0}
    .grid2{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:12px;width:100%}
    .metric{padding:10px;border-radius:12px;border:1px dashed var(--ring);text-align:center}
    .metric b{display:block;font-size:20px}
    .controls{display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px;margin-top:16px}
    select,.btn{appearance:none;font-weight:700;border-radius:12px;padding:12px 14px;border:1px solid rgba(255,255,255,.25);background:#fff;color:#0b3ea6}
    .btn{cursor:pointer}
    .btn:active{transform:translateY(1px)}
    .tip{color:#e6f0ff;font-size:12px;opacity:.85;margin-top:10px;text-align:center}
    dialog{border:1px solid var(--ring);border-radius:16px;background:#0f47bd;color:#fff;max-width:420px;width:90%;padding:18px}
    dialog label{display:flex;justify-content:space-between;align-items:center;margin:8px 0}
    dialog input{border-radius:10px;border:1px solid #84aaff;padding:8px 10px}
    dialog .actions{display:flex;gap:10px;margin-top:12px;justify-content:flex-end}
  </style>
</head>
<body>
  <!-- Íconos SVG -->
  <svg width="0" height="0" style="position:absolute">
    <symbol id="ic-gear" viewBox="0 0 24 24"><path fill="currentColor" d="M12 15.5a3.5 3.5 0 1 0 0-7a3.5 3.5 0 0 0 0 7m8.94-2.86l-1.23-.71c.07-.47.11-.95.11-1.43s-.04-.96-.11-1.43l1.23-.71a.5.5 0 0 0 .19-.68l-1.82-3.16a.5.5 0 0 0-.64-.21l-1.22.5A7.97 7.97 0 0 0 15.5 2.6l-.19-1.3A.5.5 0 0 0 14.82 1h-3.64a.5.5 0 0 0-.49.41l-.19 1.3A7.97 7.97 0 0 0 7.55 4.0l-1.22-.5a.5.5 0 0 0-.64.21L3.87 6.87a.5.5 0 0 0 .19.68l1.23.71c-.07.47-.11.95-.11 1.43s.04.96.11 1.43l-1.23.71a.5.5 0 0 0-.19.68l1.82 3.16c.13.23.41.32.64.21l1.22-.5c.66.6 1.4 1.1 2.22 1.5l.19 1.3c.05.24.25.41.49.41h3.64c.24 0 .44-.17.49-.41l.19-1.3c.82-.4 1.56-.9 2.22-1.5l1.22.5c.23.1.51.02.64-.21l1.82-3.16a.5.5 0 0 0-.19-.68z"/></symbol>
    <symbol id="ic-plus" viewBox="0 0 24 24"><path fill="currentColor" d="M19 13H13v6h-2v-6H5v-2h6V5h2v6h6z"/></symbol>
    <symbol id="ic-drop" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2.69C12 2.69 6 9 6 13a6 6 0 0 0 12 0c0-4-6-10.31-6-10.31z"/></symbol>
  </svg>

  <header>
    <div>Hoy</div>
    <button id="openSettings" class="icon-btn" title="Configuración">
      <svg class="icon"><use href="#ic-gear"/></svg>
    </button>
  </header>

  <main>
    <div class="card center">
      <div class="donut-wrap">
        <svg class="donut" viewBox="0 0 240 240" aria-label="progreso">
          <circle class="track" cx="120" cy="120" r="104"></circle>
          <circle id="arc" class="arc" cx="120" cy="120" r="104"></circle>
        </svg>
        <div class="centered">
          <div id="pct" class="pct">0%</div>
          <div class="sub">/ día</div>
        </div>
      </div>

      <div class="grid2">
        <div class="metric"><small>AHORA</small><b><span id="nowMl">0</span> ml</b></div>
        <div class="metric"><small>META</small><b><span id="goalMl">2000</span> ml</b></div>
      </div>

      <div class="controls">
        <select id="amount">
          <option value="100">100 ml</option>
          <option value="150">150 ml</option>
          <option value="200">200 ml</option>
          <option value="250" selected>250 ml</option>
          <option value="300">300 ml</option>
          <option value="500">500 ml</option>
        </select>
        <button id="add" class="btn"><svg class="icon"><use href="#ic-plus"/></svg> Agregar</button>
        <button id="undo" class="btn" disabled>Deshacer</button>
      </div>

      <div class="tip"><svg class="icon"><use href="#ic-drop"/></svg> Consejo: mantené presionado “Agregar” para repetir rápido.</div>
    </div>
  </main>

  <!-- Modal Configuración -->
  <dialog id="settings">
    <h3>Configuración</h3>
    <label>Objetivo diario (ml)<input type="number" id="goalInput" value="2000" min="200" step="50"></label>
    <label>Recordatorio cada (min)<input type="number" id="intervalInput" value="90" min="15" step="5"></label>
    <label>Desde<input type="time" id="startInput" value="09:00"></label>
    <label>Hasta<input type="time" id="endInput" value="20:00"></label>
    <div class="actions">
      <button id="testNotif" class="btn">Probar notificación</button>
      <button id="save" class="btn">Guardar</button>
      <button id="close" class="btn" style="background:#e2e8f0;color:#0b3ea6">Cerrar</button>
    </div>
    <p id="permNote" style="font-size:12px;opacity:.9"></p>
  </dialog>

  <script src="main.js"></script>
</body>
</html>
